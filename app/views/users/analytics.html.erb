<h1>Planet Flatiron Analytics</h1>

<h2>Total customer base: <%=@basic_users.count%></h2>
  <%@plans.each do |plan|%>
    <p>Ratio of customers who are enrolled in <%=plan.name%> plan: <%=((plan.users.count.to_f / @basic_users.count)*100).round(2)%>% (<%=plan.users.count%>/<%=@basic_users.count%>)</p>
  <%end%>

<h2>Total number of trainers: <%=Trainer.all.count%></h2>
<h3>Trainers sorted by revenue generation:</h3>

  <%Trainer.sorted_popularity.each do |t|%>
    <%=t[0].name%> teaches <%=t[1]%> customers and generates $<%=t[0].trainer_revenue%><br>
  <%end%>
  <br>Note that the above may not sum to the total gym revenue, as some users who are signed up for a plan, may not be enrolled in any lessons.

<h2>Total revenue: $<%=Plan.total_revenue%></h2>

  <%@plans.each do |plan|%>
    <p>Total revenue being generated by <%=plan.name%> plan: $<%=plan.plan_revenue%></p>
  <%end%>
